<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="manActCoaseguroController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
<style type="text/css">
.celda {
	width: 170px;
	color: #000;
}

.datatable {
	padding-top: 10px;
}

body {
	font-family: Monaco, Georgia, Times, serif;
}

.separador {
	padding: 10px 9px;
}
</style>
</head>
<body>

	<center>

		<div style="text-align: center;">
			<table style="margin: 0 auto; width: 350px">
				<tr>
					<td><h:inputHidden value="#{manActCoaseguroController.actCoaseguro.codCoaseguro}"></h:inputHidden></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="tipoSistema" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Sistema:" /></td>
					<td style="text-align: left;"><h:selectOneMenu id="tipoSistema" class="celda" value="#{manActCoaseguroController.actCoaseguro.codSistema}"
							valueChangeListener="#{manActCoaseguroController.buscarSocio}" required="true" requiredMessage="Obligatorio"
							disabled="#{!manActCoaseguroController.esNuevo}">
							<f:selectItems value="#{manActCoaseguroController.sistemaItems}" />
							<a4j:support event="onchange" ajaxOnly="true" reRender="selectSocio, selectProducto" />
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="selectSocio" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Seleccionar Socio:" /></td>
					<td style="text-align: left;"><h:selectOneMenu id="selectSocio" class="celda" value="#{manActCoaseguroController.actCoaseguro.codSocio}"
							valueChangeListener="#{manActCoaseguroController.buscarProducto}" required="true" requiredMessage="Obligatorio"
							disabled="#{!manActCoaseguroController.esNuevo}">
							<f:selectItems value="#{manActCoaseguroController.socioItemsMant}" />
							<a4j:support event="onchange" ajaxOnly="true" reRender="selectProducto" />
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="selectProducto" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Producto:" /></td>
					<td style="text-align: left;"><h:selectOneMenu id="selectProducto" class="celda"
							value="#{manActCoaseguroController.actCoaseguro.codProducto}" required="true" requiredMessage="Obligatorio"
							disabled="#{!manActCoaseguroController.esNuevo}">
							<f:selectItems value="#{manActCoaseguroController.productoItemsMant}" />
							<a4j:support event="onchange" ajaxOnly="true" />
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="fechaIniCoaseguro" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Fecha de Inicio de Coaseguro:" /></td>
					<td style="text-align: left;"><rich:calendar id="fechaIniCoaseguro" enableManualInput="false" datePattern="yyyy-MM-dd"
							value="#{manActCoaseguroController.actCoaseguro.fecIniCoaseguro}" showWeeksBar="false" required="true" requiredMessage="Obligatorio">
						</rich:calendar></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="fechaFinCoaseguro" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Fecha de Fin de Coaseguro:" /></td>
					<td style="text-align: left;"><rich:calendar id="fechaFinCoaseguro" enableManualInput="false" datePattern="yyyy-MM-dd"
							value="#{manActCoaseguroController.actCoaseguro.fecFinCoaseguro}" showWeeksBar="false" required="true" requiredMessage="Obligatorio">
						</rich:calendar></td>
				</tr>
				<tr>
					<td style="text-align: right;"><rich:message for="porcentaje" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message> <rich:spacer width="5"></rich:spacer> <h:outputText value="Porcentaje de Coaseguro" /></td>
					<td style="text-align: left;"><h:inputText id="porcentaje" value="#{manActCoaseguroController.actCoaseguro.pctCoaseguro}" maxlength="10"
							onkeypress="return valDecimales(event);" required="true" requiredMessage="Obligatorio" /></td>
				</tr>
				<tr>
					<td colspan="7" height="10px"></td>
				</tr>
			</table>
		</div>

		<span class="separador"> <a4j:commandButton action="#{manActCoaseguroController.aceptar}" onclick="this.disabled=true;" value="Aceptar"
				oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.showModalPanel(\'panel\');this.disabled=false;' : 'this.disabled=false;'}"
				reRender="tipoSistema,selectSocio,selectProducto,fechaIniCoaseguro,
										fechaFinCoaseguro,porcentaje,listaCoaseg,eliminar" />
		</span> <span class="separador"><a4j:commandButton onclick="Richfaces.hideModalPanel('panelEdicion');" value="Cancelar" /></span>

	</center>

</body>
<rich:modalPanel id="panel" width="250" height="130">
	<f:facet name="header">Mensaje</f:facet>
	<h:panelGroup>
		<center>
			<h5>Datos guardados con Ã©xito!.</h5>
			<a4j:commandButton value="Aceptar" onclick="#{rich:component('panel')}.hide(); #{rich:component('panelEdicion')}.hide(); return false"
				oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.hideModalPanel(\'panelEdicion\')' : ';'}" />
			<rich:componentControl for="panelEdicion" attachTo="hidelink" operation="hide" event="onclick"></rich:componentControl>
		</center>
	</h:panelGroup>
</rich:modalPanel>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="repConciliacionController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js"></script>


<script type="text/javascript">
		function llamar(){
			console.log("INICIOOOOOOOO");
			var e = document.getElementById("principal:conciliacionForm:btnDescargarH");			
			console.log("ELEMENTOOO: "+e);
			e.click();
			console.log("Finnnnnnn");
		}
	</script>
<style type="text/css">
.celda {
	width: 150px;
	color: #000;
}
.datatable {
	padding-top: 10px;
}

body {
	font-family: Monaco, Georgia, Times, serif;
}
.pasos{background-color: transparent;padding: 0;text-align: center;list-style: none;}
.pasos li {position: relative;float: none;margin: 0.4em 40px 0.4em 0;display: inline-block;}
.pasos li  {z-index: 1;padding: 0.4em 6em;border-radius: .25em;position: relative;font-size: 14px;text-decoration: none;color: #ffffff;background-color: #58A358;}
.pasos li.activo {background-color: #007B4C; background-image: url("/Satelite/imagenes/bien.png");background-repeat: no-repeat;background-position: 10px;background-size: 17px;}
.tabla {border: 1px solid #007B4C; }
.tabla tr {border: 1px solid #007B4C; }
.tabla tr td {border: 1px solid #007B4C; }
</style>

</head>
<body>



	<h:form id="conciliacionForm">
		<rich:panel id="reporte" height="100%" reRender="lista">
			<f:facet name="header">
				<h:outputText value=" Suscripci贸n > SOAT > Reporte de Conciliaci贸n SOAT">
				</h:outputText>
			</f:facet>
			<center>
				<fieldset id="fdsRepConciliacion">
					<table border="0" width="900px">
						<tr>
							<td width="120" height="30" />
							<td width="120" />
							<td align="right">
							
								<rich:message	for="periodo" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message>
								
								<h:outputText value="* Periodo (AAAAMM): "  />
								
							</td>
							<td align="left">
							
								<h:inputText 	
												required="true"  
												requiredMessage="Obligatorio"  
												id="periodo" 
												value="#{repConciliacionController.periodo}"   
												maxlength="6" 
												onkeypress="return valNumeros(event);" />
							
							</td>
							<td width="120" />
							<td width="120" />
						</tr>
						<tr>
							<td height="30" />
							<td />
							<td align="right">
							
								<rich:message	for="selectProducto" style="color: red;">
									<f:facet name="errorMarker">
										<h:graphicImage url="../imagenes/error.png" />
									</f:facet>
								</rich:message>
								
								<h:outputText value="* Socio: " />
							</td>
							<td align="left">
								<h:selectOneMenu id="selectProducto" value="#{repConciliacionController.producto}" required="true" requiredMessage="Obligatorio" >
									<f:selectItems value="#{repConciliacionController.productoItems}" />
									<a4j:support event="onchange" reRender="lista" action="#{repConciliacionController.cargarReportes}" />
								</h:selectOneMenu>
							</td>
							<td />
							<td />
						</tr>
						<tr>
							<td height="30" />
							<td />
							<td />
							<td />
							<td align="right">	
									<a4j:commandButton  value="Conciliar Diaria - Mensual"  action="#{repConciliacionController.btnConciliacionDiariaMensual}" style="width: 150px; height: 20px; cursor: pointer;"/>
							</td>
							<td align="right">
									
								<a4j:commandButton value="Conciliaci贸n Soat" action="#{repConciliacionController.btnConciliacionSOAT}" style="width: 150px; height: 20px; cursor: pointer;"/>
						
						
							</td>
						
						</tr>
					</table>
					
			<fieldset id="tablaProceso">
					
					<br />
						
						<ol class="pasos">
							<li class="activo"><em>  Iniciando  </em></li>
							<li class="activo"><em>  En proceso </em></li>
							<li class="activo"><em> Finaliz贸   </em></li>	
						</ol>	
										
					<br />
					<!-- 
						<a4j:region>
						<a4j:outputPanel id="progressPanel">
				            <rich:progressBar value="#{repConciliacionController.currentValue}"
				                interval="2000" label="#{repConciliacionController.currentValue} %"
				                enabled="#{repConciliacionController.enabled}" minValue="-1" maxValue="100"
				                reRenderAfterComplete="progressPanel">
				                <f:facet name="initial">
				                    <br />
				                    <h:outputText value="Process doesn't started yet" />
				                    <a4j:commandButton action="#{repConciliacionController.startProcess}"
				                        value="Start Process" reRender="progressPanel"
				                        rendered="#{repConciliacionController.buttonRendered}"
				                        style="margin: 9px 0px 5px;" />
				                </f:facet>
				                <f:facet name="complete">
				                    <br />
				                    <h:outputText value="Process Done" />
				                    <a4j:commandButton action="#{repConciliacionController.startProcess}"
				                        value="Restart Process" reRender="progressPanel"
				                        rendered="#{repConciliacionController.buttonRendered}"
				                        style="margin: 9px 0px 5px;" />
				                </f:facet>
				            </rich:progressBar>
				        </a4j:outputPanel>	
					</a4j:region>-->
					
					
					<rich:extendedDataTable id="lista" var="lstRepConciliacion" value="#{repConciliacionController.listaRepConciliacion}" rows="1"
						selection="#{repConciliacionController.selection}" selectionMode="single" width="1000px" height="45px" reRender="true">
						<rich:column id="colLote" headerClass="dataTableHeader" width="100px">
							<f:facet name="header">
								<h:outputText value="Lote" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.secArchivo}" />
							</center>
						</rich:column>
						<rich:column id="colPeriodo" headerClass="dataTableHeader" width="100px">
							<f:facet name="header">
								<h:outputText value="Periodo" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.periodo}" />
							</center>
						</rich:column>
						
			
						
						<rich:column id="colNumRegistros" headerClass="dataTableHeader" width="125px">
							<f:facet name="header">
								<h:outputText value="Cant. Registros" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.numRegistros}" />
							</center>
						</rich:column>
						<rich:column id="colRegObservados" headerClass="dataTableHeader" width="140px">
							<f:facet name="header">
								<h:outputText value="Registros Observados" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.regObservados}" />
							</center>
						</rich:column>
						<rich:column id="colRegAceptados" headerClass="dataTableHeader" width="140px">
							<f:facet name="header">
								<h:outputText value="Registros Aceptados" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.regAceptados}" />
							</center>
						</rich:column>
						<rich:column id="colFecProceso" headerClass="dataTableHeader" width="125px">
							<f:facet name="header">
								<h:outputText value="Fecha Proceso" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.fecProceso}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</center>
						</rich:column>
						<rich:column id="colUsuProceso" headerClass="dataTableHeader" width="125px">
							<f:facet name="header">
								<h:outputText value="Estado Proceso" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.usuProceso}" />
							</center>
						</rich:column>
						
						<rich:column id="colUsuAjuste" headerClass="dataTableHeader" width="140px">
							<f:facet name="header">
								<h:outputText value="Cant. Ajuste Automatico" />
							</f:facet>
							<center>
								<h:outputText value="#{lstRepConciliacion.usuProceso}" />
							</center>
						</rich:column>
						<!-- <f:facet name="footer">
							<rich:datascroller id="ds" for="lista" maxPages="10"></rich:datascroller>
						</f:facet> -->
					</rich:extendedDataTable>
					<!-- <h:commandButton action="#{repConciliacionController.exportar}" value="Exportar" /> -->
					</fieldset>
					<br />
					<table border="0" width="900px">
							<tr>
								<td width="180px" />
								<td width="180px" />
								<td width="180px" align="center" >
									<a4j:commandButton  value="Exportar Reporte" style="width: 150px; height: 20px; cursor: pointer;"/>
								 </td>
								<td />
								<td width="180px" align="right">	
									<a4j:commandButton  value="Cerrar Lote"  style="width: 150px; height: 20px; cursor: pointer;"/>
								</td>
								<td width="180px" align="right">
										
									<a4j:commandButton value="Exportar TXT" style="width: 150px; height: 20px; cursor: pointer;"/>
								</td>
							</tr>
					</table>
					<br />
				</fieldset>
			</center>
		</rich:panel>
	</h:form>
</body>
</html>
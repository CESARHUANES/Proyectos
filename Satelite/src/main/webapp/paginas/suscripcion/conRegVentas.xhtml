<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="regVentasController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
</head>
<body>
	<h:form>

		<rich:panel id="consultar" height="100%" reRender="lista">
			<f:facet name="header">
				<h:outputText value="Suscripción > Registro de Ventas > Consultar Registro de Ventas" />
			</f:facet>
			<table>
				<tr>
					<td style="width: 20%; text-align: right;"><h:outputText value="Correlativo Registro:" /></td>
					<td style="width: 25%; text-align: left;"><h:inputText id="correlativo" value="#{regVentasController.correlativo}" maxlength="20" /></td>
					<td style="width: 10%; text-align: center;"></td>
					<td style="text-align: right;"><h:outputText value="Producto:" /></td>
					<td style="text-align: left;"><h:inputText id="producto" value="#{regVentasController.producto}" maxlength="50" /></td>
				</tr>
				<tr>
					<td style="text-align: right;"><h:outputText value="Nro. Serie" /></td>
					<td style="text-align: left;"><h:inputText id="nroSerie" value="#{regVentasController.nroSerie}" maxlength="20" /></td>
					<td style="width: text-align: center;"></td>
					<td style="text-align: right;"><h:outputText value="Correlativo Serie:" /></td>
					<td style="text-align: left;"><h:inputText id="correlativoSerie" value="#{regVentasController.correlativoSerie}" maxlength="20" /></td>
				</tr>
				<tr>
					<td style="text-align: right;"><h:outputText value="Tipo de Comprobante:" /></td>
					<td style="text-align: left;"><h:selectOneMenu id="tipComprobante" value="#{regVentasController.tipComprobante}"
							onkeypress="return valNumeros(event);">
							<f:selectItems value="#{regVentasController.tipComprobanteItems}" />
						</h:selectOneMenu></td>
					<td style="text-align: center;"></td>
					<td style="text-align: right;"><h:outputText value="Póliza:" /></td>
					<td style="text-align: left;"><h:inputText id="poliza" value="#{regVentasController.poliza}" maxlength="20">
						</h:inputText></td>
				</tr>
				<tr>
					<td style="text-align: right;"><h:outputText value="Tipo de Documento:" /></td>
					<td style="text-align: left;"><h:selectOneMenu id="tipDocumento" value="#{regVentasController.tipDocumento}">
							<f:selectItems value="#{regVentasController.tipDocumentoItems}" />
						</h:selectOneMenu></td>
					<td style="text-align: center;"></td>
					<td style="text-align: right;"><h:outputText value="Número de Documento:" /></td>
					<td style="text-align: left;"><h:inputText id="numDocumento" value="#{regVentasController.numDocumento}" maxlength="20">
						</h:inputText></td>
				</tr>
				<tr>
					<td style="text-align: right;"><h:outputText value=" * Desde (yyyy-MM-dd):" /></td>
					<td style="text-align: left;"><rich:calendar id="fechaDesde" enableManualInput="true" datePattern="yyyy-MM-dd"
							value="#{regVentasController.fechaDesde}" showWeeksBar="false">
						</rich:calendar></td>
					<td style="text-align: center;"></td>
					<td style="text-align: right;"><h:outputText value=" * Hasta (yyyy-MM-dd):" /></td>
					<td style="text-align: left;"><rich:calendar id="fechaHasta" enableManualInput="true" datePattern="yyyy-MM-dd"
							value="#{regVentasController.fechaHasta}" showWeeksBar="false">
						</rich:calendar></td>
				</tr>
				<tr>
					<td><h:outputText value=" * Máximo 100 registros * " style="font-weight:bold;" /></td>
					<td style="text-align: right;"><a4j:commandButton action="#{regVentasController.consultar}" reRender="lista" value="Consultar" /></td>
					<td><h:commandButton action="#{regVentasController.limpiar}" immediate="true" value="Limpiar" /></td>
					<td style="text-align: left;"><a4j:commandButton action="#{regVentasController.verNoReferenciados}" reRender="lista"
							value="Ver no Referenciados" /></td>
					<td></td>
				</tr>
				<tr>
					<td colspan="7" height="10px"></td>
				</tr>
			</table>
			<rich:extendedDataTable id="lista" var="tstVentas" value="#{regVentasController.listaTstVentas}" width="1000px" rows="12" height="330px"
				selection="#{regVentasController.selection}" selectionMode="single" reRender="true">
				<rich:column id="colCorrelativo" headerClass="dataTableHeader" width="8%" sortable="true" sortBy="#{tstVentas.correlativoregistro}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Correl. Registro" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.correlativoregistro}" />
					</center>
				</rich:column>
				<rich:column id="colFecEmision" headerClass="dataTableHeader" width="8%" sortable="true" sortBy="#{tstVentas.fechaemision}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Fec. Emisión" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.fechaemision}">
							<f:convertDateTime pattern="yyyy-MM-dd" />
						</h:outputText>
					</center>
				</rich:column>
				<rich:column id="colTipComprobante" headerClass="dataTableHeader" width="8%" sortable="true" sortBy="#{tstVentas.tipocomprobante}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Tip Comprobante" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.tipocomprobantedesc}" />
					</center>
				</rich:column>
				<rich:column id="colNroSerie" headerClass="dataTableHeader" width="5%" sortable="true" sortBy="#{tstVentas.nroserie}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Nro. Serie" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.nroserie}" />
					</center>
				</rich:column>
				<rich:column id="colCorreSerie" headerClass="dataTableHeader" width="8%" sortable="true" sortBy="#{tstVentas.correlativoserie}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Correl. Serie" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.correlativoserie}" />
					</center>
				</rich:column>
				<rich:column id="colTipDocumento" headerClass="dataTableHeader" width="5%" sortable="true" sortBy="#{tstVentas.tipodocclientedesc}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Tipo Docum" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.tipodocclientedesc}" />
					</center>
				</rich:column>
				<rich:column id="colNumDocumento" headerClass="dataTableHeader" width="10%" sortable="true" sortBy="#{tstVentas.numerodoccliente}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Nro. Documento" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.numerodoccliente}" />
					</center>
				</rich:column>
				<rich:column id="colNombresRazonSocial" headerClass="dataTableHeader" width="24%" sortable="true" sortBy="#{tstVentas.nombresrazonsocial}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Nombres/Razón Social" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.nombresrazonsocial}" />
					</center>
				</rich:column>
				<rich:column id="colPoliza" headerClass="dataTableHeader" width="12%" sortable="true" sortBy="#{tstVentas.numeropoliza}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Póliza" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.numeropoliza}" />
					</center>
				</rich:column>
				<rich:column id="colProducto" headerClass="dataTableHeader" width="14%" sortable="true" sortBy="#{tstVentas.producto}"
					sortIconAscending="dataTableAscIcon" sortIconDescending="dataTableDescIcon">
					<f:facet name="header">
						<h:outputText value="Producto" />
					</f:facet>
					<center>
						<h:outputText value="#{tstVentas.producto}" />
					</center>
				</rich:column>
				<!-- <rich:column id="colReferencia" headerClass="dataTableHeader" width="18%"
						sortable="true" sortBy="#{tstVentas.referencia}"
						sortIconAscending="dataTableAscIcon"
						sortIconDescending="dataTableDescIcon">
						<f:facet name="header">
							<h:outputText value="Referencia" />
						</f:facet>
						<center>
							<h:outputText value="#{tstVentas.referencia}" />
						</center>
					</rich:column> -->
				<f:facet name="footer">
					<rich:datascroller id="ds" for="lista" maxPages="10"></rich:datascroller>
				</f:facet>
			</rich:extendedDataTable>
			<table>
				<tr>
					<td style="height: 10px;"></td>
				</tr>
				<tr>
					<td><a4j:commandButton action="#{regVentasController.obtener}"
							oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.showModalPanel(\'panelEdicion\')' : ';'}" value="Editar"
							reRender="panelEdicion" /></td>
				</tr>
			</table>
		</rich:panel>

	</h:form>
</body>

<rich:modalPanel id="panelEdicion" autosized="true">
	<f:facet name="header">
		<h:outputText value="Mantenimiento de Registro de Ventas" />
	</f:facet>
	<f:facet name="controls">
		<h:panelGroup>
			<h:graphicImage value="/imagenes/close.gif" styleClass="hidelink" id="hidelink" />
			<rich:componentControl for="panelEdicion" attachTo="hidelink" operation="hide" event="onclick" />
		</h:panelGroup>
	</f:facet>
	<h:form>
		<a4j:region>
			<a4j:include viewId="/paginas/suscripcion/mantRegVentas.xhtml" />
		</a4j:region>
	</h:form>
</rich:modalPanel>

</html>
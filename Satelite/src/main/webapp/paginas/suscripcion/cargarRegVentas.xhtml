<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">
<a4j:keepAlive beanName="regVentasController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js"></script>
</head>
<body>
	<h:form id="cargarRegistroVentas">
		<rich:panel id="cargarRegVentas">
			<f:facet name="header">
				<h:outputText value="Suscripción > Registro de Ventas > Cargar Registro de Ventas a Producción" />
			</f:facet>
			<center>
				<table style="text-align: center;">
					<tr>
						<td style="text-align: right;"><h:outputText value="* Periodo de Carga (AAAAMM): " /></td>
						<td style="text-align: left;"><h:inputText id="periodo" value="#{regVentasController.periodo}" maxlength="6" required="true"
								requiredMessage="El periodo es obligatorio" onkeypress="return valNumeros(event);">
							</h:inputText> <rich:message for="periodo" style="color: red;">
								<f:facet name="errorMarker">
									<h:graphicImage url="../imagenes/error.png" />
								</f:facet>
							</rich:message></td>
					</tr>
					<tr>
						<td colspan="2" height="10px" />
					</tr>
					<tr>
						<td style="text-align: center;" colspan="2"><a4j:commandButton value="Cargar" action="#{regVentasController.cargar}"
								onclick="this.disabled=true;"
								oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.showModalPanel(\'cargando\');this.disabled=false;' :
						'this.disabled=false;'}" /></td>
					</tr>
				</table>
			</center>
		</rich:panel>
	</h:form>
</body>
<rich:modalPanel id="cargando" width="250" height="130">
	<f:facet name="header">Informativo</f:facet>
	<h:panelGroup>
		<center>
			<h5>El proceso se está ejecutando, consulte en la tabla de procesos.</h5>
			<a4j:commandButton value="Aceptar" onclick="#{rich:component('cargando')}.hide();return false" />
			<rich:componentControl for="cargando" attachTo="hidelink" operation="hide" event="onclick"></rich:componentControl>
		</center>
	</h:panelGroup>
</rich:modalPanel>
<rich:modalPanel id="existe" width="250" height="130">
	<f:facet name="header">Informativo</f:facet>
	<h:panelGroup>
		<center>
			<h5>El periodo ingresado ya fue cargado anteriormente.</h5>
			<a4j:commandButton value="Aceptar" onclick="#{rich:component('existe')}.hide();return false" />
			<rich:componentControl for="existe" attachTo="hidelink" operation="hide" event="onclick"></rich:componentControl>
		</center>
	</h:panelGroup>
</rich:modalPanel>
</html>
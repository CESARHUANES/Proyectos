<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
	
	<a4j:keepAlive beanName="configCertificadoController" />
	
	<head>
		<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
		<style type="text/css">
			body, html {
				font-family: Monaco, Georgia, Times, serif;
			}
			
			#panelPrincipal {
				text-align: left;
			}
			
			#imgReiniciar {
				width: 12px;
				height: 12px;
				margin: 0;
				padding: 0;
			}
			
			#formConfCertificado {
				width: 97%;
				margin: 0 auto;
			}
			
			.separatorLine {
				width: 100%; 
				border-top: 1px solid #C0C0C0; 
				margin: 10px 0;
			}
			
			.verCertificadoLink {
				margin-left: 15px; 
				text-decoration: underline; 
				font-weight:bold; 
				cursor: pointer;
				color: #000 !important;
			}
		</style>
	</head>
	<body>
		<rich:panel id="panelPrincipal">
			<f:facet name="header">
				<h:form>
					<h:outputText id="tituloCabecera" value="Impresión > Configurar Certificado" />
					<a4j:commandLink id="reiniciar"	action="#{configCertificadoController.inicio}" reRender="principal" style="text-decoration: none; margin-left: 10px; display: inline;">
						<img id="imgReiniciar" src="#{facesContext.externalContext.requestContextPath}/imagenes/refresh.png" />
					</a4j:commandLink>
				</h:form>
			</f:facet>
			<center>
				<fieldset id="formConfCertificado">
					<h:form>
						<div style="text-align: center;">
							<table style="padding: 15px 0px 35px;width: 100%;" border="0">
								<tr>
									<td style="text-align: right; width: 35%;">
										<rich:message for="idProductoSocio" style="color: red;">
											<f:facet name="errorMarker">
												<h:graphicImage url="../imagenes/error.png" />
											</f:facet>
										</rich:message>
										<rich:spacer width="5" /> <h:outputText value="* Socio: " />
									</td>
									<td style="text-align: left; width: 65%;">
										<h:selectOneMenu id="idProductoSocio" 
														 value="#{configCertificadoController.idProducto}" 
														 valueChangeListener="#{configCertificadoController.consultaCertificacoPublicosPrivados}"														 
														 style=" width: 250px;" 
														 requiredMessage="">
											<f:selectItems value="#{configCertificadoController.comboListaProductos}" />
											<a4j:support event="onchange" reRender="numCertificadosPublicos, numCertificadosPrivados, verCertificadosPublicos, verCertificadosPrivados, asigCertificadosPublicos, asigCertificadosPrivados" />											
										</h:selectOneMenu>
									</td>
									
									<!--
									<td style="text-align: right; width: 10%">
									
										 <a4j:commandButton action="#{configCertificadoController.consultaCertificacoPublicosPrivados}" value="Consultar"  /> 
									
									</td>
									<td style="text-align: right;">&nbsp;</td>
									 -->
								</tr>
							</table>
							
							<table style="margin: auto;" border="0" width="100%">
								<tr>
									<td colspan="5">
										<div class="separatorLine" />
									</td>
								</tr>
								<tr>
									<td style="text-align: right; width: 2%" />
									<td style="text-align: left;">
										<h:outputText value="Públicos" style="text-align: left; font-weight:bold"/>
									</td>
									<td>&nsp;</td>
									<td>&nsp;</td>
									<td>&nsp;</td>
								</tr>
								<tr>
									<td style="text-align: right; width: 2%" />
									<td style="text-align: right; width: 20%;">
										<h:outputText value="Número de Certificados disponibles:" />
									</td>
									<td style="text-align: left; width: 5%">
										<h:outputText id="numCertificadosPublicos" value="#{configCertificadoController.numCertificadosPublicos}" reRender="true" />
									</td>
									<td style="text-align: left; width: 15%;">			
										<a4j:commandLink id="verCertificadosPublicos" value="Ver Certificados" reRender="panelVerCertificadosPub, listaCertificadosPublicos" 
											oncomplete="#{null == facesContext.maximumSeverity ? 'Richfaces.showModalPanel(\'panelVerCertificadosPub\')' : ';'}"
											styleClass="verCertificadoLink" style="visibility: #{(configCertificadoController.numCertificadosPublicos > 0) ? 'visible' : 'hidden'};" />
									</td>
									<td style="text-align: right;">
										<a4j:commandButton id="asigCertificadosPublicos" style="margin:0 5px;" action="#{configCertificadoController.cargarCertificadosPublicosPopup}"
											oncomplete="#{null == facesContext.maximumSeverity ? 'Richfaces.showModalPanel(\'panelAsignarCertificadosPublicos\')' : ';'}" disabled="#{configCertificadoController.deshabilitarBtnCertPub}"
											value="ASIGNAR RANGO DE CERTIFICADOS PÚBLICOS" reRender="panelAsignarCertificadosPublicos, rangoDesde, rangoHasta, anioCertificado" />
									</td>
								</tr>
								<tr>
									<td colspan="5">
										<div class="separatorLine" />
									</td>
								</tr>
								<tr>
									<td style="text-align: right; width: 2%" />
									<td style="text-align: left;">
										<h:outputText value="Privados" style="text-align: left; font-weight:bold"/>
									</td>
									<td>&nsp;</td>
									<td>&nsp;</td>
									<td>&nsp;</td>
								</tr>
								<tr>
									<td style="text-align: right; width: 2%" />
									<td style="text-align: right; width: 20%;">
										<h:outputText value="Número de Certificados disponibles:" />
									</td>
									<td style="text-align: left; width: 5%">
										<h:outputText id="numCertificadosPrivados" value="#{configCertificadoController.numCertificadosPrivados}" reRender="true" />
									</td>
									<td style="text-align: left; width: 15%;">
										<a4j:commandLink id="verCertificadosPrivados" value="Ver Certificados" reRender="panelVerCertificadosPri, listaCertificadosPrivados"
											oncomplete="#{null == facesContext.maximumSeverity ? 'Richfaces.showModalPanel(\'panelVerCertificadosPri\')' : ';'}"
											styleClass="verCertificadoLink" style="visibility: #{(configCertificadoController.numCertificadosPrivados > 0) ? 'visible' : 'hidden'};" />
									</td>
									<td style="text-align: right;">
										<a4j:commandButton id="asigCertificadosPrivados" style="margin:0 5px" action="#{configCertificadoController.cargarCertificadosPrivadosPopup}"
											oncomplete="#{null == facesContext.maximumSeverity ? 'Richfaces.showModalPanel(\'panelAsignarCertificadosPrivados\')' : ';'}" disabled="#{configCertificadoController.deshabilitarBtnCertPri}"
											value="ASIGNAR RANGO DE CERTIFICADOS PRIVADOS" reRender="panelAsignarCertificadosPrivados, rangoDesde, rangoHasta, anioCertificado" />
									</td>
								</tr>
							</table>
						</div>
					</h:form>
				</fieldset>
			</center>
		</rich:panel>
	</body>
	
	
	<rich:modalPanel id="panelVerCertificadosPub" autosized="true">
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage id="hidelink01" value="/imagenes/close.gif" styleClass="hidelink" />
				<rich:componentControl for="panelVerCertificadosPub" attachTo="hidelink01" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<a4j:region>
				<a4j:include viewId="/paginas/moduloimpresion/verCertificadosPublicosPopup.xhtml" />
			</a4j:region>
		</h:form>
	</rich:modalPanel>
	
	<rich:modalPanel id="panelVerCertificadosPri" autosized="true">
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage id="hidelink02" value="/imagenes/close.gif" styleClass="hidelink" />
				<rich:componentControl for="panelVerCertificadosPri" attachTo="hidelink02" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<a4j:region>
				<a4j:include viewId="/paginas/moduloimpresion/verCertificadosPrivadosPopup.xhtml" />
			</a4j:region>
		</h:form>
	</rich:modalPanel>
	
	<rich:modalPanel id="panelAsignarCertificadosPublicos" autosized="true">
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage id="hidelink03" value="/imagenes/close.gif" styleClass="hidelink" />
				<rich:componentControl for="panelAsignarCertificadosPublicos" attachTo="hidelink03" operation="hide" event="oncomplete" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<a4j:region>
				<a4j:include viewId="/paginas/moduloimpresion/asignarCertificadosPublicosPopup.xhtml" />
			</a4j:region>
		</h:form>
	</rich:modalPanel>
		
	<rich:modalPanel id="panelAsignarCertificadosPrivados" autosized="true">
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage id="hidelink04" value="/imagenes/close.gif" styleClass="hidelink" />
				<rich:componentControl for="panelAsignarCertificadosPrivados" attachTo="hidelink04" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<a4j:region>
				<a4j:include viewId="/paginas/moduloimpresion/asignarCertificadosPrivadosPopup.xhtml" />
			</a4j:region>
		</h:form>
	</rich:modalPanel>
	
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="siniestroController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
</head>
<body>
	<h:form>
		<rich:panel id="tpDatColaborador" height="100%">
			<f:facet name="header">
				<h:outputText value="Siniestro > Mantenimiento  de Siniestro" />
			</f:facet>
			<table width="95%">
				<tr>
					<td><h:outputText style="font-size:11px;" value="N° Siniestro:" /></td>
					<td><h:inputText id="nroSiniestro" maxlength="18" value="#{siniestroController.siniSiniestro.nroSiniestro}" style="background:#ddd;"
							readonly="true" /></td>
					<td><h:outputText style="font-size:11px;" value="Fec. Ocurrencia:"/></td>
					<td><rich:calendar id="fechaOcurrencia" enableManualInput="true" style=" width : 130px;" datePattern="dd/MM/yyyy"
							value="#{siniestroController.siniSiniestro.fecOcurrencia}" showWeeksBar="false" 
							valueChangeListener="#{siniestroController.calcularEdadFecOcurrencia}" required="true" requiredMessage=""
							disabled="#{siniestroController.readonlyMostrar}" inputStyle="width:120px">
							<a4j:support event="onchanged" ajaxSingle="true" reRender="edadFecOcurrencia,valCarencia,valEdadIngreso,valEdadPermanencia" />

						</rich:calendar> <rich:message for="fechaOcurrencia" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message></td>
						
				<td><h:outputText style="font-size:11px;" value="Fec. Notif. Socio:"/></td>
				<td><rich:calendar id="fecRecepcionSocio" enableManualInput="true" style=" width : 130px;" datePattern="dd/MM/yyyy"
						value="#{siniestroController.siniSiniestro.fecRecepSocio}" showWeeksBar="false" disabled="#{siniestroController.readonlyFecha}" 
						inputStyle="width:110px">
					</rich:calendar></td>
               <td><h:outputText style="font-size:11px;" value="Fec. Notif. Cardif:" /></td>
					<td><rich:calendar id="fechaNotificacion" enableManualInput="true" style=" width : 50px;" datePattern="dd/MM/yyyy"
							value="#{siniestroController.siniSiniestro.fecNotificacion}" showWeeksBar="false" required="true" requiredMessage=""
							disabled="#{siniestroController.readonlyFecha}" inputStyle="width:110px">
						</rich:calendar> <rich:message for="fechaNotificacion" style="color: red;">
							<f:facet name="errorMarker">
								<h:graphicImage url="../imagenes/error.png" />
							</f:facet>
						</rich:message></td>
				
				<td><h:inputText id="diasNotificacion" value="#{siniestroController.strDiasNotificacion}" style="background:#ddd;"
							readonly="true" size="3" /></td>
				
				</tr>
				
				<tr>

				<td></td>
				<td></td>
				<td><h:outputText style="font-size:11px;" value="Usuario :" /></td>
					<td><h:inputText id="usuario" maxlength="20" readonly="true" style="background:#ddd;"
							value="#{siniestroController.siniSiniestro.usuCreacion}" /></td>
				
				<td><h:outputText style="font-size:11px;" value="Fec. Últ Docum. Socio.:" /></td>
				<td><rich:calendar id="fecUltNotificacionSocio" enableManualInput="true" style=" width : 130px;" datePattern="dd/MM/yyyy"
						valueChangeListener="#{siniestroController.validarDiasUltDocumSocio}" value="#{siniestroController.siniSiniestro.fecUltDocumSocio}" showWeeksBar="false"
						disabled="#{siniestroController.readonlyMostrar}" required="false" requiredMessage="" inputStyle="width:110px">
						<a4j:support event="onchanged" ajaxSingle="true" reRender="diaPendientes,diasLiquidacionRechazo" />
					</rich:calendar></td>
					
				<td><h:outputText style="font-size:11px;" value="Fec. Últ Docum. Cardif.:" /></td>
				<td><rich:calendar id="fecUltNotificacion" enableManualInput="true" style=" width : 130px;" datePattern="dd/MM/yyyy"
						valueChangeListener="#{siniestroController.validarDiasUltDocum}" value="#{siniestroController.siniSiniestro.fecUltDocum}" showWeeksBar="false"
						disabled="#{siniestroController.readonlyMostrar}" required="false" requiredMessage="" inputStyle="width:110px">
						<a4j:support event="onchanged" ajaxSingle="true" reRender="diaPendientes,diasLiquidacionRechazo" />
					</rich:calendar></td>
					
					<td><h:inputText id="diasDocumentacion" value="#{siniestroController.strDiasDocumentacion}" style="background:#ddd;"
							readonly="true" size="3" /></td>
				
				</tr>
			</table>
			<rich:tabPanel switchType="client" width="900" style=" width : 1001px; height : 140px;" id="tabs">
				<rich:tab label="Datos Generales" id="tabDatosGenerales">
					<a4j:include viewId="/paginas/siniestro/manSiniestro1.xhtml" />

				</rich:tab>
				<rich:tab label="Datos Cafae" id="tabCafae">
					<a4j:include viewId="/paginas/siniestro/manSiniestro2.xhtml" />
				</rich:tab>
				<rich:tab label="Datos Robo" id="tabDatosRobo">
					<a4j:include viewId="/paginas/siniestro/manSiniestro3.xhtml" />
				</rich:tab>
				<rich:tab label="Datos Otros Productos" id="tabOtrosDatos">
					<a4j:include viewId="/paginas/siniestro/manSiniestro4.xhtml" />
				</rich:tab>
				<rich:tab label="Datos Adicionales" id="tabDatosAdicionales">
					<a4j:include viewId="/paginas/siniestro/manSiniestro5.xhtml" />
				</rich:tab>
			</rich:tabPanel>
		</rich:panel>
		<table align="center">
			<tr>
				<td colspan="2" align="right"><a4j:commandButton id="btnGuardar" value="Guardar" action="#{siniestroController.guardarSiniestro}"
						style="width:165px" reRender="nroSiniestro,cantSiniestros,productoP,ramo,diasDocumentacion" disabled="#{siniestroController.readonlyMostrar}"></a4j:commandButton>

					<a4j:commandButton id="btnCancelar" value="Cancelar" action="#{siniestroController.cancelar}" immediate="true" style="width:165px"></a4j:commandButton>
				</td>
				<td colspan="2" align="right"><h:commandButton id="btnGenerarPlatilla1" action="#{siniestroController.generarPlantilla1}"
						value="Generar Plantilla Análisis" style="width:165px" disabled="#{siniestroController.readonlyMostrar}">

					</h:commandButton></td>
				<td colspan="2" align="right"><h:commandButton id="btnGenerarPlatilla2" action="#{siniestroController.generarPlantilla2}"
						value="Generar Plantilla Liquidación" style="width:165px" disabled="#{siniestroController.readonlyMostrar}">
					</h:commandButton></td>
			</tr>

		</table>

	</h:form>
</body>


</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<a4j:keepAlive beanName="siniestroController" />
<head>
<script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/validacion.js" />
</head>
<body>
	<h:form id="formulario">
		<rich:panel id="panelBusquedat">
			<f:facet name="header">
				<h:outputText value="Siniestros > Mantenimiento  de Siniestros" />
			</f:facet>
			<table border="0">
				<tr>
					<td align="right"><h:outputText style="font-size:11px;" value="N° Siniestro:" /></td>
					<td><h:inputText value="#{siniestroController.nroSiniestro_b}" id="nroSiniestrort" style="width:100px" maxlength="18" /></td>
					<td align="right"><h:outputText style="font-size:11px;" value="Fec. Notificación:" /></td>
					<td colspan="2"><rich:calendar id="fechaNotificacion1n" inputStyle="width:60px" enableManualInput="true" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecNotiDesde_b}" showWeeksBar="false">
						</rich:calendar>-<rich:calendar id="fechaNotificaciont" inputStyle="width:60px" enableManualInput="true" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecNotiHasta_b}" showWeeksBar="false" header="Hasta">
						</rich:calendar></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Fec. Últ. Docum:" /></td>
					<td colspan="2"><rich:calendar id="fechaNotificaciontkDesde" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecUltDocumenDesde_b}" showWeeksBar="false">
						</rich:calendar>- <rich:calendar id="fechaNotificaciontkHasta" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecUltDocumenHasta_b}" showWeeksBar="false">
						</rich:calendar></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Fec. Aprob/Rechazo:" /></td>
					<td><rich:calendar id="fechaAprobRechDesde" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecAprobRechDesde_b}" showWeeksBar="false">
						</rich:calendar>- <rich:calendar id="fechaAprobRechHasta" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecAprobRechHasta_b}" showWeeksBar="false">
						</rich:calendar></td>

				</tr>
				<tr>

					<td align="right"><h:outputText style="font-size:11px;" value="Fec. Entrega Opc.:" /></td>

					<td colspan="2"><rich:calendar id="fechaEntrgaOpcDesde" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecEntrgaOpcDesde_b}" showWeeksBar="false">
						</rich:calendar>-<rich:calendar id="fechaEntrgaOpchHasta" enableManualInput="true" inputStyle="width:60px" datePattern="dd/MM/yyyy"
							value="#{siniestroController.fecEntrgaOpcHasta_b}" showWeeksBar="false">
						</rich:calendar></td>


					<td colspan="2"><h:outputText style="font-size:11px;text-align:right;" value="    Pago:" /> <h:inputText id="idPagoDesde" maxlength="12"
							value="#{siniestroController.pagoDesde_b}" style="width:60px" onkeypress="return valDecimales(event);" />- <h:inputText id="idPagoHasta"
							maxlength="12" style="width:60px" value="#{siniestroController.pagoHasta_b}" onkeypress="return valDecimales(event);" /></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Nro. Planilla:" /></td>
					<td colspan="2"><h:inputText id="idNumeroPlanilla" maxlength="20" style="width:170px" value="#{siniestroController.nroPlanilla_b}" /></td>
					<td align="right" colspan="1"><h:outputText style="font-size:11px;" value="Ejecutivo CAFAE:" /></td>
					<td colspan="2"><h:selectOneMenu id="ejecutivoCafaeSiniestro" value="#{siniestroController.findEjeCafae_b}">
							<f:selectItems value="#{siniestroController.listaEjeCafaeItem}" />
						</h:selectOneMenu></td>
				</tr>

				<tr>
					<td align="right"><h:outputText style="font-size:11px;" value="Tipo de Seguros:" /></td>

					<td><h:selectOneMenu id="tipProcesoT" value="#{siniestroController.tipoSeguro_b}">
							<f:selectItems value="#{siniestroController.listaTipoSeguroItem}" />
						</h:selectOneMenu></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Socio:" /></td>

					<td colspan="2"><h:selectOneMenu id="socioT" style=" width : 170px;" value="#{siniestroController.socio_b}">
							<f:selectItems value="#{siniestroController.listaSocioItem}" />
						</h:selectOneMenu></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Producto:" /></td>

					<td colspan="3"><h:selectOneMenu id="productoT" style=" width : 220px;" value="#{siniestroController.producto_b}">
							<f:selectItems value="#{siniestroController.listaProductoItem1}" />
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td align="right"><h:outputText style="font-size:11px;" value="N° de Póliza:" /></td>

					<td colspan="2"><h:inputText id="nroPolizaT" maxlength="20" style="width:180px;" value="#{siniestroController.nroPoliza_b}" /></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Tipo de Doc.:" /></td>

					<td colspan="2"><h:selectOneMenu id="nroDocU" style=" width : 170px;" value="#{siniestroController.tipoDoc_b}">
							<f:selectItems value="#{siniestroController.listaTipoDocItem}" />
						</h:selectOneMenu></td>
					<td align="right"><h:outputText style="font-size:11px;" value="N° Doc.:" /></td>

					<td colspan="2"><h:inputText id="nroDocU_b" maxlength="20" value="#{siniestroController.nroDocumento_b}" /></td>
				</tr>
				<tr>
					<td align="right"><h:outputText style="font-size:11px;" value="Nombres:" /></td>
					<td colspan="2"><h:inputText id="nombresU" maxlength="50" style="width:180px;" value="#{siniestroController.nombres_b}"
							onkeyup="value=value.toUpperCase()" /></td>
					<td align="right"><h:outputText style="font-size:11px;" value="Ape. Paterno:" /></td>

					<td colspan="2"><h:inputText id="apePaternoU" maxlength="50" style="width:170px;" value="#{siniestroController.apePaterno_b}"
							onkeyup="value=value.toUpperCase()" /></td>
					<td align="right"><h:outputText style="font-size:11px;" value="Ape. Materno:" /></td>
					<td colspan="2"><h:inputText id="apeMaternoU" maxlength="50" value="#{siniestroController.apeMaterno_b}" onkeyup="value=value.toUpperCase()" /></td>
				</tr>
				<tr>
					<td align="right"><h:outputText style="font-size:11px;" value="Cober. Afectada:" /></td>
					<td colspan="2"><h:selectOneMenu id="coberturaAfecU" style="width:180px;" value="#{siniestroController.cobAfectada_b}" maxlength="40px">
							<f:selectItems value="#{siniestroController.listaCoberturaAfecItem}" />
						</h:selectOneMenu></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Estado:" /></td>


					<td colspan="2" align="left"><h:selectOneMenu id="estadoU" style=" width : 170px;" value="#{siniestroController.estado_b}">
							<f:selectItems value="#{siniestroController.listaEstadoItem}" />
						</h:selectOneMenu></td>

					<td align="right"><h:outputText style="font-size:11px;" value="Estado Legajo:" /></td>
					<td colspan="2"><h:selectOneMenu id="estadoLegajoR" style=" width : 130px;" value="#{siniestroController.estadoLegajo_b}">
							<f:selectItems value="#{siniestroController.listaEstadoLegajoItem}" />
						</h:selectOneMenu></td>
				</tr>

				<tr style="visibility: hidden;">
					<td><h:inputText id="estadoU1" style="width:100px" /></td>
					<td><h:inputText id="estadoU2" style=" width : 100px;" /></td>
					<td><h:inputText id="estadoU3" style=" width : 90px;" /></td>
					<td><h:inputText id="estadoU4" style=" width : 80px;" /></td>
					<td><h:inputText id="estadoU5" style=" width : 70px;" /></td>
					<td><h:inputText id="estadoU6" style=" width : 80px;" /></td>
					<td><h:inputText id="estadoU7" style=" width : 100px;" /></td>
					<td><h:inputText id="estadoU8" style=" width : 40px;" /></td>
					<td><h:inputText id="estadoU9" style=" width : 110px;" /></td>
					<td><h:inputText id="estadoU10" style=" width : 170px;" /></td>

				</tr>

			</table>


			<table width="100%" align="center">
				<tr>
					<td colspan="10">
						<center>
							<a4j:commandButton id="btnBuscar" reRender="listaSini,number" action="#{siniestroController.buscarSiniestro}" value="Buscar"
								style="width:125px"></a4j:commandButton>

							<h:commandButton id="btnTab" immediate="true" style="width:125px;display:none" value="Tab" />
							<rich:spacer width="18"></rich:spacer>
							<h:commandButton id="btnLimpiar" action="#{siniestroController.limpiar}" immediate="true" style="width:125px" value="Limpiar" />
						</center>
					</td>
				</tr>

				<tr>
					<td colspan="10" align="left"><h:outputLabel id="number" value="Número de registros: #{siniestroController.numero}"></h:outputLabel>
						<div style="scrollbar-base-color: #3d8a3d; width: 1050px; border: 0px solid white; overflow-x: scroll">
							<rich:extendedDataTable id="listaSini" var="varlista" value="#{siniestroController.listaSiniSiniestro}" width="1900px" rows="12" height="390px"
								selectionMode="multi" selection="#{siniestroController.selection}" action="#{siniestroController.openTask}" reRender="true">
								<rich:column id="idCheck" headerClass="dataTableHeader" width="90px">
									<f:facet name="header">
										<h:outputText value="Seleccione:" />

									</f:facet>
									<center>
										<h:selectBooleanCheckbox id="idSelectCheck" value="#{varlista.idCheck}">
											<f:selectItems value="#{siniestroController.selection}" />
											<a4j:support event="onclick" actionListener="#{siniestroController.selectionListener}">
												<f:attribute name="selectedSiniestro" value="#{varlista.nroSiniestro}" />
											</a4j:support>



										</h:selectBooleanCheckbox>
									</center>
								</rich:column>
								<rich:column id="nroSiniestro" headerClass="dataTableHeader" width="90px">
									<f:facet name="header">
										<h:outputText value="N° Siniestro" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nroSiniestro}" />
									</center>
								</rich:column>
								<rich:column id="fecCreacion" headerClass="dataTableHeader" width="90px">
									<f:facet name="header">
										<h:outputText value="Fec. Creac." />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.fecCreacion}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</center>
								</rich:column>
								<rich:column id="fecAprobRechazo" headerClass="dataTableHeader" width="90px" sortable="false" selectionMode="single">
									<f:facet name="header">
										<h:outputText value="Fec. Apr./Re." />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.fecAprobRechazo}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</center>
								</rich:column>
								<rich:column id="estado" headerClass="dataTableHeader" width="120px" sortable="false" selectionMode="single">
									<f:facet name="header">
										<h:outputText value="Estado" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomEstado}" />
									</center>
								</rich:column>
								<rich:column id="fecOcurrencia" headerClass="dataTableHeader" width="90px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Fec. Ocurr." />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.fecOcurrencia}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</center>
								</rich:column>
								<rich:column id="socio" headerClass="dataTableHeader" width="200px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Socio" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomSocio}" />
									</center>
								</rich:column>
								<rich:column id="producto" headerClass="dataTableHeader" width="200px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Producto" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomProducto}">
											<f:convertDateTime pattern="yyyy-MM-dd" />
										</h:outputText>
									</center>
								</rich:column>
								<rich:column id="cobertura" headerClass="dataTableHeader" width="200px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Cobertura" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomCobertura}" />
									</center>
								</rich:column>
								<rich:column id="nroPol" headerClass="dataTableHeader" width="90px" sortable="false">
									<f:facet name="header">
										<h:outputText value="N° Póliza" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nroPoliza} " />
									</center>
								</rich:column>
								<rich:column id="tipoDoc" headerClass="dataTableHeader" width="90px" sortable="false">
									<f:facet name="header">
										<h:outputText value="T. Doc" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.tipDocum}" />
									</center>
								</rich:column>
								<rich:column id="nroDocument" headerClass="dataTableHeader" width="90px" sortable="false">
									<f:facet name="header">
										<h:outputText value="N° Doc." />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nroDocumento} " />
									</center>
								</rich:column>
								<rich:column id="nrombes" headerClass="dataTableHeader" width="200px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Nombre" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomCompleto}" />
									</center>
								</rich:column>
								<rich:column id="nroPlanilla" headerClass="dataTableHeader" width="90px" sortable="false">
									<f:facet name="header">
										<h:outputText value="N° Planilla" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nroPlanilla}" />
									</center>
								</rich:column>
								<rich:column id="moneda" headerClass="dataTableHeader" width="70px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Moneda" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.nomMoneda}" />
									</center>
								</rich:column>
								<rich:column id="impPago" headerClass="dataTableHeader" width="100px" sortable="false">
									<f:facet name="header">
										<h:outputText value="Imp. Pagos" />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.impPagos}" />
									</center>
								</rich:column>
								<rich:column id="usuCreacion" headerClass="dataTableHeader" width="90px">
									<f:facet name="header">
										<h:outputText value="Usu. Creac." />
									</f:facet>
									<center>
										<h:outputText value="#{varlista.usuCreacion}" />
									</center>
								</rich:column>
								<f:facet name="footer">
									<rich:datascroller id="ds" for="listaSini" maxPages="10"></rich:datascroller>
								</f:facet>
							</rich:extendedDataTable>
						</div></td>
				</tr>

			</table>
			<table align="center">
				<tr>
					<td colspan="9"><h:commandButton id="btnExportarTodo" value="Exportar" style="width:125px" action="#{siniestroController.exportarTodo}"></h:commandButton>
						<rich:spacer width="18"></rich:spacer> <h:commandButton id="btnExportar" value="Exportar Seleccionados" style="width:125px"
							action="#{siniestroController.exportar}"></h:commandButton> <rich:spacer width="18"></rich:spacer> <a4j:commandButton id="btnGenerarPlantilla3"
							reRender="listaSini" value="Generar Planilla" style="width:125px" action="#{siniestroController.generarPlantilla3}"
							oncomplete="document.getElementById('principal:formulario:descargarPlanilla').click()">

						</a4j:commandButton> <h:commandButton id="descargarPlanilla" value="Generar Planilla oculto" action="#{siniestroController.descargarPlantilla}" style="display:none">
						</h:commandButton> <rich:spacer width="20"></rich:spacer> <!-- <a4j:commandButton id="btnImportarSiniestro"
									oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.showModalPanel(\'panelImportar\')' : ';'}"
									value="Importar" reRender="panelImportar" 
									style=" width : 123px;"
								/> --> <rich:spacer width="150"></rich:spacer> <a4j:commandButton id="btnRegistrar" value="Registrar" style="width:90px"
							action="#{siniestroController.registrarSini}" reRender="productoP,ramo">
						</a4j:commandButton> <rich:spacer width="18" /> <a4j:commandButton id="btnCopiar" value="Copiar" style="width:90px" action="#{siniestroController.copiarSiniestro}">
						</a4j:commandButton> <rich:spacer width="18" /> <a4j:commandButton id="btnModificar" value="Modificar" style="width:90px"
							action="#{siniestroController.mostrarSiniestro}" reRender="productoP,ramo,impMaxCoutas,nroCoutas,diasHospitalizacion">
						</a4j:commandButton> <rich:spacer width="18"></rich:spacer> <a4j:commandButton id="btnMostrar" action="#{siniestroController.verSiniestroSini}" value="Consultar"
							style="width:90px">
						</a4j:commandButton></td>
				</tr>
			</table>
		</rich:panel>
	</h:form>
</body>
</html>
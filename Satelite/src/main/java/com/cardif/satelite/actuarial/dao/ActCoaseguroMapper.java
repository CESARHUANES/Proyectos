package com.cardif.satelite.actuarial.dao;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.ResultMap;
import org.apache.ibatis.annotations.Select;

import com.cardif.satelite.actuarial.bean.ConsultaActCoaseguro;
import com.cardif.satelite.model.ActCoaseguro;
import com.cardif.satelite.model.ActCoaseguroExample;

public interface ActCoaseguroMapper {

  final String SELECT_DATOS = "select c.cod_coaseguro,c.cod_sistema, " + "c.socio,c.producto,c.fec_ini_coaseguro,c.fec_fin_coaseguro,c.pct_coaseguro from act_coaseguro c "
      + "where c.cod_sistema=isnull(#{codSistema,jdbcType=NUMERIC},c.cod_sistema) " + "and c.cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},c.cod_socio) "
      + "and c.cod_producto=isnull(#{codProducto,jdbcType=NUMERIC},c.cod_producto) " + "order by FEC_INI_COASEGURO desc";

  final String SELECT_DATOSALL = "SELECT * FROM ACT_COASEGURO ORDER BY  COD_COASEGURO DESC";

  final String SELECT_FECHA_MAX = "select max(fec_fin_coaseguro) + 1 from act_coaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto) ";

  final String SELECT_FECHA_MAX_ANT = "select max(fec_fin_coaseguro) +1 from act_coaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto) "
      + "and fec_fin_coaseguro <> isnull((select max(fec_fin_coaseguro) from act_coaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto)),fec_fin_coaseguro)";

  @Select(SELECT_DATOS)
  @ResultMap(value = "ConsultaResultMap")
  ArrayList<ConsultaActCoaseguro> selectActCoaseguro(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto);

  @Select(SELECT_FECHA_MAX)
  Date selectFechaCoaseguro(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto);

  @Select(SELECT_FECHA_MAX_ANT)
  Date selectFechaCoaseguroAnt(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto, @Param("fecFinCoaseguro") Date fecFinCoaseguro);

  /**
   * selectActCoaseguro This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int countByExample(ActCoaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int deleteByExample(ActCoaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int deleteByPrimaryKey(Long codCoaseguro);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int insert(ActCoaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int insertSelective(ActCoaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  List<ActCoaseguro> selectByExample(ActCoaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  ActCoaseguro selectByPrimaryKey(Long codCoaseguro);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int updateByExampleSelective(@Param("record") ActCoaseguro record, @Param("example") ActCoaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int updateByExample(@Param("record") ActCoaseguro record, @Param("example") ActCoaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int updateByPrimaryKeySelective(ActCoaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_COASEGURO
   *
   * @mbggenerated Thu Dec 19 11:47:23 COT 2013
   */
  int updateByPrimaryKey(ActCoaseguro record);
}
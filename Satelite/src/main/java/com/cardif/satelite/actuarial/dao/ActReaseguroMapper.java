package com.cardif.satelite.actuarial.dao;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.ResultMap;
import org.apache.ibatis.annotations.Select;

import com.cardif.satelite.actuarial.bean.ConsultaActReaseguro;
import com.cardif.satelite.model.ActReaseguro;
import com.cardif.satelite.model.ActReaseguroExample;

public interface ActReaseguroMapper {

  final String SELECT_DATOS = "select top 100 c.cod_reaseguro,c.cod_sistema, " + "(select nom_valor from Parametro where cod_param='010' and tip_param='D' "
      + "and cod_valor=isnull(convert(numeric(18, 0),c.cod_sistema),c.cod_sistema)) as Sistema, " + "c.socio,c.producto,c.fec_ini_reaseguro,c.fec_fin_reaseguro,c.pct_reaseguro from act_reaseguro c "
      + "where c.cod_sistema=isnull(#{codSistema},c.cod_sistema) " + "and c.cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},c.cod_socio) "
      + "and c.cod_producto=isnull(#{codProducto,jdbcType=VARCHAR},c.cod_producto) " + "order by FEC_INI_REASEGURO desc";

  final String SELECT_DATOSALL = "SELECT * FROM ACT_REASEGURO";

  final String SELECT_FECHA_MAX = "select max(fec_fin_reaseguro) +1 from act_reaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto) ";

  final String SELECT_FECHA_MAX_ANT = "select max(fec_fin_reaseguro) +1 from act_reaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto) "
      + "and fec_fin_reaseguro <> isnull((select max(fec_fin_reaseguro) from act_reaseguro " + "where cod_sistema=isnull(#{codSistema},cod_sistema) "
      + "and cod_socio=isnull(#{codSocio,jdbcType=VARCHAR},cod_socio) " + "and cod_producto=isnull(#{codProducto},cod_producto)),fec_fin_reaseguro)";

  @Select(SELECT_DATOS)
  @ResultMap(value = "ConsultaResultMap")
  ArrayList<ConsultaActReaseguro> selectActReaseguro(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto);

  @Select(SELECT_FECHA_MAX)
  Date selectFechaReaseguro(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto);

  @Select(SELECT_FECHA_MAX_ANT)
  Date selectFechaReaseguroAnt(@Param("codSistema") Long codSistema, @Param("codSocio") String codSocio, @Param("codProducto") Long codProducto, @Param("fecFinReaseguro") Date fecFinReaseguro);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int countByExample(ActReaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int deleteByExample(ActReaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int deleteByPrimaryKey(Long codReaseguro);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int insert(ActReaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int insertSelective(ActReaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  List<ActReaseguro> selectByExample(ActReaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  ActReaseguro selectByPrimaryKey(Long codReaseguro);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int updateByExampleSelective(@Param("record") ActReaseguro record, @Param("example") ActReaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int updateByExample(@Param("record") ActReaseguro record, @Param("example") ActReaseguroExample example);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int updateByPrimaryKeySelective(ActReaseguro record);

  /**
   * This method was generated by MyBatis Generator. This method corresponds to the database table dbo.ACT_REASEGURO
   *
   * @mbggenerated Mon Jan 06 10:12:06 COT 2014
   */
  int updateByPrimaryKey(ActReaseguro record);
}